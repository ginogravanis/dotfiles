#!/usr/bin/env bash
# depends: dmenu, systemd-sysvcompat, slock

choice=$(echo -e "lock screen\nreboot\nshutdown" | dmenu)

confirm() {
   answer=$(echo -e "Yes\nNo" | dmenu -p "$1")
   case $answer in
      "Yes") return 0 ;;
      *) return 1 ;;
   esac
}

case $choice in
   "shutdown") confirm "Shutdown?" && shutdown now ;;
   "reboot") confirm "Reboot?" && reboot ;;
   "lock screen") slock ;;
   *) ;;
esac
